<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ChromaPassword</title>

<script type="text/javascript" src="sha1.js"></script>
<script type="text/javascript" src="chromapassword.js"></script>

<style>

input
{
display: inline-block;
width: 300px;
height: 24px;
border: 1px solid #ccc;
padding: 0;
overflow: hidden;
z-index: 1000;
}

.chromapassword span
{
position: relative;
z-index: 1500;
display: inline-block;
width: 20px;
border-right: 1px solid #fff;
height: 24px;
top: 1px;
}

</style>


</head>
<body>

    <p>The first field is for a username - It's used to salt the string from which the colours
        are calculated - This guards against the use of rainbow tables to look up a password 
        based on the coloured blocks that are displayed.</p>
<input type="text" id="username" />

<p>This field is the ChromaPassword.  The coloured blocks are based on the hash of the string
    that's entered, plus the colour of previous blocks.  Hashing makes it hard to predict colours
    and makes computation relatively expensive - This guards against brute-force attacks by an
    opponent that knows the colours associated with a user's password.</p>

<input type="text" id="cpass" />

<script type="text/javascript">
var cp = new ChromaPassword(document.getElementById('cpass'));

// Make all colours purple :)
/*
cp.rmax = 200;
cp.rmin = 50;

cp.gmax = 160;
cp.gmin = 0;

cp.bmax = 255;
cp.bmin = 100;
*/

document.getElementById('username').onchange = function(){cp.setSalt('nvndcd' + this.value);};

</script>

</body>
</html>
